<div class="container mt-5">
    <h5><i class="bi bi-box2-heart-fill"></i> Crea un agendamiento</h5>
    <br>

    <div class="alert alert-dismissible alert-success" *ngIf="code">
        <h6>Codigo de la agenda: <b>{{code}}</b></h6>
        <b>Recuerda: </b> Debes registrarte en el chatbot con tu mismo usuario para poder ingresar el codigo cuando vayas a la bodega<br><br>
        <a href='https://t.me/PruebaV2IoTBot' target="_blank">Ir al chatBoot</a>
    </div>
    <form *ngIf="scheduleForm" [formGroup]="scheduleForm">
        <div class="form-group">
            <label for="type" class="form-label mt-4">Tipo de agenda</label>
            <select formControlName="type" class="form-select" id="type">
              <option value="entrega">Entregar paquete</option>
              <option value="recogida">Recibir paquete</option>
            </select>
        </div>
        <div class="form-group" *ngIf="scheduleForm.value.type=='entrega'">
            <label for="addressee" class="form-label mt-4">Destinatario</label>
            <input type="text" class="form-control" formControlName="addressee" id="addressee">
        </div>
        <div class="form-group">
            <label for="description" class="form-label mt-4">Descripci√≥n</label>
            <textarea class="form-control" formControlName="description" id="description" rows="3"></textarea>
        </div>
        <div class="form-group">
            <label for="date" class="form-label mt-4">Fecha</label>
            <input type="date" min="{{minDate}}" class="form-control" formControlName="date" id="date">
        </div>
        <div class="form-group">
            <label for="time" class="form-label mt-4">Hora</label>
            <select formControlName="time" class="form-select" id="time">
                <ng-container *ngFor="let time of timeList">
                    <option *ngIf="showTime(time.value)" value="{{time.value}}">{{time.label}}</option>
                </ng-container>
            </select>
        </div>
        <div class="d-grid gap-2 mt-3">
            <button type="button" class="btn btn-outline-info" (click)="create()">
                <i class="bi bi-clock-history"></i> Agendar
            </button>
        </div>
    </form>
</div>
